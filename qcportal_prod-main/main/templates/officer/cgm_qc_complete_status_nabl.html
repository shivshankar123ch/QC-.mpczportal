{% extends 'main/mpeb_base.html' %}
{% load cart %}
{% load static %}
{% block body %}

<style>
  .ed-tableinfo-block .dataTables_length {
    display: block;
  }

  .ed-tableinfo-block .dataTables_paginate span .paginate_button.current {
    background: #e5e9ed;
    color: #fff;
    border-color: #1b1c1c;
  }
</style>


<div class="ed-card-inner">
  <div class="card-header">
    <h2>
      ALL NABL
    </h2>
  </div>

  <!-- <p style="align-items:Center;color: rgb(132, 0, 255);font-size: medium; text-align: center; font-weight: 700;">
                  {% if msg1 %}
                  {{ msg1 }}
                  {% endif %}
              </p> -->

  <div class="card-body">
    <div class="ed-tableinfo-block mb-5">
      <div class="table-responsive">
        <table class="table table-striped table-bordered ed-table-block ed-centertable text-center"
          id="cgm_qc_complete_status_nabl">
          <thead>
            <tr>
              <th class="w-5">S.No.</th>
              <th class="w-10">
                User Zone
              </th>
              <th class="w-10">
                Name Of Company
              </th>
              <th class="w-10">
                Name of Authorized Person
              </th>
              <th class="w-10">
                Registration Date
              </th>
              <th class="w-10">
                Contact Number
              </th>
              <th class="w-10">
                DGM(QC) Status
              </th>
              <th class="w-10">
                CGM/Status
              </th>
            </tr>
          </thead>
          <tbody>
            {% for data in data %}

            <tr>
              <td>{{forloop.counter}}</td>
              <td>{{data.User_zone}}</td>

              <td>{{data.CompanyName_E}}</td>
              <td>{{data.Authorised_person_E}}</td>
              <!-- <td>{{data.Uploaded_Date}}</td> -->
              <td>{{data.reg_date|date:"d-M-Y"}}</td>
              <!--  <td>{{data.Uploaded_Date|date:"d-M-Y"}}</td>-->
              <td>{{data.ContactNo}}</td>
              {% if data.qc_approval == 1 %}
              <td>

                <span class="text-success fw-bold">
                  Approved
                </span>

              </td>

              {% elif data.qc_approval == '-1' %}
              <td>

                <span class="text-danger fw-bold">
                  Rejected
                </span>

                <span class="text-danger fw-bold">Rejected</span>
              </td>
              {% else %}
              <td>

                <span class="text-warning fw-bold">
                  Pending
                </span>

              </td>
              {% endif %}




              {% if data.cgm_approval == 1 %}
              <td>

                <span class="text-success fw-bold">
                  Approved
                </span>

              </td>
              {% elif data.cgm_approval == 2 %}
              <td>

                <span class="text-danger fw-bold">
                  Rejected
                </span>

              </td>

              {% else %}
              <td>
                <span class="text-warning fw-bold">
                  Pending
                </span>

              </td>
              {% endif %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<script>
  $(document).ready(function () {
    $('#cgm_qc_complete_status_nabl').DataTable({
      pagingType: 'full_numbers',
    });
  });
</script>
{% endblock body %}