{% extends 'officer/gm_work_base.html' %}
{% load cart %}
{% load static %}
{% block body %}

<!-- <style> -->
<!-- .btn:not(:disabled):not(.disabled) { -->
<!-- cursor: pointer; -->
<!-- width: 130px -->
<!-- } -->

<!-- .ed-tableinfo-block .dataTables_length { -->
<!-- display: block; -->
<!-- } -->

<!-- .ed-tableinfo-block .dataTables_paginate span .paginate_button.current { -->
<!-- background: #e5e9ed; -->
<!-- color: #fff; -->
<!-- border-color: #1b1c1c; -->
<!-- } -->

<!-- </style> -->
<!-- <div class="container">
    <div class="row ml-3">

    <h2>All Approved Contractor </h2>

    <div class="panel panel-default">
        <div class="panel-heading">Panel Heading</div>
        <div class="panel-body">Panel Content</div> -->
<!-- <div class="table-responsive">  -->


<div class="ed-card-inner">
  <div class="card-header">
    <h2>
      All Approved Contractor
    </h2>
  </div>
  <div class="card-body">
    <div class="ed-tableinfo-block">
      <div class="table-responsive">
        <table class="table table-striped table-bordered ed-table-block ed-centertable text-center"
          id="cgm_complete_tkc">
          <thead>
            <tr>
              <th>
                S No.
              </th>
              <th>
                Name Of Company
              </th>
              <th>
                Name of Authorized Person
              </th>
              <th>
                Valid Up To
              </th>
              <th>
                Registration Date
              </th>
              <th>
                Contractor Class
              </th>
              <th>
                Contact Number
              </th>


              <th>
                View
              </th>
              <th>
                DGM(W&P) Status </th>

              <th>
                DGM(Finance) Status </th>

            </tr>
          </thead>
          <tbody>
            {% for data in data %}

            <tr>
              <td>{{forloop.counter}}</td>
              <td>{{data.CompanyName_E}}</td>
              <td>{{data.Authorised_person_E}}</td>
              <!-- <td>{{data.Uploaded_Date}}</td> -->
              <td>{{data|last_date:doc|date:"d-M-Y"}}</td>
              <td>{{data.Uploaded_Date|date:"d-M-Y"}}</td>
              <!--  <td>{{data.Uploaded_Date|date:"d-M-Y"}}</td>-->
              <td>{{data|contractor_class:contractor}}</td>
              <td>{{data.ContactNo}}</td>
              <td>
                <a href="/vendor_cgm_evaluate_view/{{data.User_Id}}">
                  <button class="btn ed-submit btn-info">
                    View
                  </button>
                </a>
              </td>
              {% if data.work_approval == 1 %}
              <td>
                <button class="btn ed-submit btn-success">
                  Approve
                </button>
              </td>
              {% elif data.work_approval == 2 %}
              <td>
                <button class="btn ed-submit btn-danger">
                  Rejected
                </button>
              </td>
              {% else %}
              <td>
                <button class="btn ed-submit btn-warning">
                  Pending
                </button>
              </td>
              {% endif %}

              {% if data.finance_approval == 1 %}
              <td>
                <button class="btn ed-submit btn-success">
                  Approve
                </button>
              </td>
              {% elif data.finance_approval == 2 %}
              <td>
                <button class="btn ed-submit btn-danger">
                  Rejected
                </button>
              </td>

              {% else %}
              <td>
                <button class="btn ed-submit btn-warning">
                  Pending
                </button>
              </td>
              {% endif %}
            </tr>

            {% endfor %}

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<!-- <script> -->
<!-- $(document).ready(function () { -->
<!-- $('#cgm_complete_tkc').DataTable(); -->
<!-- }); -->
<!-- </script> -->
{% endblock body %}